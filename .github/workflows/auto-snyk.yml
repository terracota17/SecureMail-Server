name: GitHub Auto Snyk Evaluation
on: [push]

jobs:
  Auto-snyk-test:
    runs-on: self-hosted
    steps:
      
      - name: Checkout del cÃ³digo
        uses: actions/checkout@v4
     
      - name: snyk auth
        run snyk auth ${{inputs.snyk-auth-token}}
        
      - name: Ejecutar Snyk Test y Guardar JSON
        run: snyk code test --json > snyk-sca-report.json

      - name: Ejecutar Snyk SAST (Static Application Security Testing) y Guardar JSON
        run: snyk monitor --json > snyk-sast-report.json
