name: GitHub Auto Snyk Evaluation
on: [push]

jobs:
  Auto-snyk-test:
    runs-on: self-hosted
    steps:
      - name: Checkout del cÃ³digo
        uses: actions/checkout@v4

      - name: Configurar Snyk API Token
        run: snyk auth ${{ secrets.SNYK_AUTH_TOKEN }}

      - name: Ejecutar Snyk Test y Guardar JSON
        run: snyk test --json > snyk-sca-report.json

      - name: Ejecutar Snyk SAST (Static Application Security Testing) y Guardar JSON
        run: snyk monitor --json > snyk-sast-report.json
